<!DOCTYPE html>
<html>
<head>
  <title>Google Drive API Example</title>
  <script src="https://apis.google.com/js/api.js"></script>
  <script>
    function handleClientLoad() {
      gapi.load('client:auth2', initClient);
    }

    function initClient() {
      gapi.client.init({
        clientId: '131979807256-apfmr42kcdj24t7binb61o1esv3eri9a.apps.googleusercontent.com',
        discoveryDocs: ['https://www.googleapis.com/discovery/v1/apis/drive/v3/rest'],
        scope: 'https://www.googleapis.com/auth/drive.file',
      }).then(function() {
        // Handle the authentication flow.
        // You can check if the user is signed in using `gapi.auth2.getAuthInstance().isSignedIn.get()`
      });
    }

    function updateSigninStatus(isSignedIn) {
      if (isSignedIn) {
        // User is signed in, perform the necessary actions.
      } else {
        // User is signed out, perform the necessary actions.
      }
    }

    function handleSignInClick() {
      gapi.auth2.getAuthInstance().signIn();
    }

    function handleSignOutClick() {
      gapi.auth2.getAuthInstance().signOut();
    }

    function listFiles() {
      gapi.client.drive.files.list({
        pageSize: 10,
        fields: 'nextPageToken, files(id, name)',
      }).then(function(response) {
        var files = response.result.files;
        // Process the files accordingly
      });
    }
  </script>
</head>
<body>
  <h1>Google Drive API Example</h1>
  <button id="signin-button" onclick="handleSignInClick()">Sign In</button>
  <button id="signout-button" onclick="handleSignOutClick()">Sign Out</button>
  <button onclick="listFiles()">List Files</button>

  <script src="https://apis.google.com/js/client.js?onload=handleClientLoad"></script>
</body>
</html>
